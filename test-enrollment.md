# 学生选课功能测试指南

## 测试环境准备

1. 确保后端服务正在运行（端口：21180）
2. 确保前端项目已启动（npm run dev）
3. 使用以下测试账号：
   - 管理员：admin / admin123
   - 教师：teacher / teacher123
   - 学生：student / student123

## 测试用例

### 测试1：管理员选课功能

#### 步骤：
1. 使用管理员账号登录
2. 进入"成绩录入"页面
3. 选择一个课程（如：CS101 - 计算机科学导论）
4. 在"学生选课管理"区域选择一个学生
5. 点击"添加选课"按钮

#### 预期结果：
- 提示"选课成功"
- 该学生出现在课程的成绩录入列表中
- 点击"查看已选学生"可以看到该学生

### 测试2：教师选课功能

#### 步骤：
1. 使用教师账号登录
2. 进入"成绩查询"页面
3. 在"学生选课管理"区域选择课程和学生
4. 点击"添加选课"按钮

#### 预期结果：
- 提示"选课成功"
- 可以在成绩查询中看到相关记录

### 测试3：学生查看选课

#### 步骤：
1. 使用学生账号登录
2. 进入"成绩查询"页面

#### 预期结果：
- 学生只能看到自己的成绩
- 不能看到选课管理区域

### 测试4：取消选课

#### 步骤：
1. 使用管理员或教师账号登录
2. 进入"成绩录入"页面
3. 选择已选课的课程
4. 点击"查看已选学生"
5. 选择一个学生并点击"移除"按钮
6. 确认移除操作

#### 预期结果：
- 提示"移除成功"
- 学生从列表中消失
- 相关成绩记录被删除

### 测试5：批量操作

#### 步骤：
1. 使用管理员账号登录
2. 进入"成绩录入"页面
3. 选择课程并加载学生
4. 为多个学生录入成绩
5. 点击"保存所有成绩"

#### 预期结果：
- 所有成绩被成功保存
- 提示保存成功

## API测试

如果需要直接测试API，可以使用以下curl命令：

### 选课
```bash
curl -X POST http://localhost:21180/api/courses/enroll \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"courseId": "CS101", "studentId": "2024001"}'
```

### 取消选课
```bash
curl -X POST http://localhost:21180/api/courses/unenroll \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"courseId": "CS101", "studentId": "2024001"}'
```

### 获取选课学生列表
```bash
curl -X GET http://localhost:21180/api/courses/CS101/students \
  -H "Authorization: Bearer <token>"
```

## 常见问题

### 1. 选课按钮不可用
- 检查是否已选择课程
- 检查是否已选择学生
- 检查当前用户权限

### 2. 选课失败
- 检查后端服务是否正常运行
- 检查网络连接
- 查看浏览器控制台错误信息

### 3. 学生列表为空
- 检查是否有学生数据
- 检查API调用是否成功

## 测试报告模板

```
测试日期：______
测试人员：______
测试环境：______

测试用例1：管理员选课功能
- 结果：□ 通过  □ 失败
- 备注：______

测试用例2：教师选课功能
- 结果：□ 通过  □ 失败
- 备注：______

测试用例3：学生查看选课
- 结果：□ 通过  □ 失败
- 备注：______

测试用例4：取消选课
- 结果：□ 通过  □ 失败
- 备注：______

测试用例5：批量操作
- 结果：□ 通过  □ 失败
- 备注：______

总体评价：______
建议改进：______
```