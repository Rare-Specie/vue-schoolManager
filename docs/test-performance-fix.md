# 性能修复测试指南

## 测试步骤

### 1. 基础功能测试
- [ ] 打开 http://localhost:5173/
- [ ] 页面应该正常显示登录界面
- [ ] 控制台不应该有错误信息

### 2. 登录流程测试
- [ ] 使用测试账户登录 (admin/admin123)
- [ ] 登录后应该跳转到个人中心
- [ ] 页面不应该卡死或白屏
- [ ] 控制台不应该有无限循环错误

### 3. 页面切换测试
- [ ] 快速点击不同的菜单项
- [ ] 页面应该流畅切换，无卡顿
- [ ] 检查控制台是否有重复的错误信息

### 4. Token过期测试
- [ ] 登录后等待10分钟
- [ ] 应该看到状态提示
- [ ] 点击刷新按钮应该成功
- [ ] 不应该出现无限重试

### 5. 页面刷新测试
- [ ] 登录后刷新页面
- [ ] 应该自动恢复登录状态
- [ ] 不应该出现重复的恢复尝试

### 6. 长时间运行测试
- [ ] 登录后保持页面打开5-10分钟
- [ ] 监控浏览器内存使用
- [ ] 检查是否有内存泄漏
- [ ] 确认没有无限增加的定时器

### 7. 网络错误测试
- [ ] 模拟网络断开
- [ ] 应该有适当的错误提示
- [ ] 不应该导致页面卡死

## 性能指标检查

### 内存使用
- 打开Chrome开发者工具 -> Memory
- 监控JS堆大小变化
- 确保没有持续增长

### 网络请求
- 打开Chrome开发者工具 -> Network
- 检查请求频率
- 确认没有重复请求

### 控制台错误
- 检查是否有以下错误：
  - "Maximum call stack size exceeded"
  - "Cannot read property of undefined"
  - 重复的错误信息

## 修复效果验证

### 修复前 vs 修复后

| 指标 | 修复前 | 修复后 |
|------|--------|--------|
| 页面加载时间 | 可能较长 | 优化后 |
| 内存使用 | 可能泄漏 | 稳定 |
| 请求频率 | 可能过高 | 优化后 |
| 错误数量 | 可能较多 | 减少 |
| 页面卡顿 | 可能发生 | 减少 |

## 问题反馈

如果仍然遇到问题，请提供以下信息：
1. 浏览器版本
2. 操作系统
3. 重现步骤
4. 控制台错误信息
5. 网络请求截图